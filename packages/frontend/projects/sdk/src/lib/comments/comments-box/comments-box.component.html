
<form class="new-message" (submit)="sendMessage()">
    <div class="text-container">
        <textarea 
            name="message" 
            (keydown)="onKeyDown($event)"
            [(ngModel)]="newMessageText"></textarea>
        <emoji-selector-button 
            class="top-right"
            (selected)="insertEmoji($event)"
            ></emoji-selector-button>
    </div>
    <div class="actions">

        <button 
            *ngIf="!user" 
            mat-raised-button 
            color="primary"
            type="button"
            (click)="showSignIn()"
            >Sign In</button>
        <button 
            *ngIf="user" 
            mat-raised-button 
            color="primary"
            [disabled]="!newMessageText" 
            >Send</button>
    </div>
</form>

<engage-comment-view 
    [source]="source"
    (userSelected)="selectMessageUser($event)"
    (selected)="selectMessage($event)"
    (upvoted)="upvoteMessage($event)"
    (reported)="reportMessage($event)"
    ></engage-comment-view>